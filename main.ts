namespace SpriteKind {
    export const coin = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile0`, function (sprite, location) {
    Santa.sayText("\"Noooooo!!\"", 500, false)
    game.over(false, effects.melt)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile1`, function (sprite, location) {
    currentLevel += 1
    startLvel()
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Santa.vy == 0) {
        Santa.vy = -150
    }
})
function startLvel () {
    Santa = sprites.create(img`
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............fffff...........
        .............f22222ff.........
        ............f22222222ff.......
        ...........f2222222f211f......
        ..........f222222222f11f......
        .........f21111111122ff.......
        .........f111111111112f.......
        .........f11ffffff11111f......
        ..aa.aa...ffddddddf1111f......
        ..aa3aa...fdfdddfddff11f......
        ..3aaa3...fddd2ddddd1fff......
        ..aaaaa...fd111111d111f.......
        ..a333affff1111111111ffff.....
        ..a333a1222f1111111ff2f77f....
        ....fee12222f11111f2222f77f...
        ....fee122222fffff22222f777f..
        ....fffffff22222222f222f777f..
        ..........f22222222f222f777f..
        ..........ffff55ffff222f777f..
        ..........ffff55ffff222f777f..
        ..........f2222222ff111f777f..
        ..........f2222222feeeef77f...
        ..........f22222222feeefff....
        ..........ffffffffffffff......
        ...........f222222222f........
        ...........f222f22222f........
        ...........f111f11111f........
        ..........feeeefeeeeef........
        ..........ffffffffffff........
        `, SpriteKind.Player)
    controller.moveSprite(Santa, 100, 0)
    if (currentLevel == 0) {
        tiles.setCurrentTilemap(tilemap`level1`)
    } else {
    	
    }
    tiles.placeOnRandomTile(Santa, assets.tile`myTile3`)
    for (let value of tiles.getTilesByType(assets.tile`myTile3`)) {
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
    Santa.ay = 350
    scene.cameraFollowSprite(Santa)
    info.setLife(5)
    for (let value of tiles.getTilesByType(assets.tile`myTile2`)) {
        coin = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 4 4 4 4 5 5 5 f . . . 
            . f 5 5 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . . f 5 5 4 4 5 5 5 5 5 f . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.coin)
        animation.runImageAnimation(
        coin,
        [img`
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 4 4 4 4 4 5 5 f . . . 
            . f 5 5 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . . f 5 5 4 4 4 5 5 5 5 f . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . f 5 5 4 4 4 5 5 f . . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . . f 5 5 4 4 5 5 5 f . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . f 5 4 5 5 5 f . . . . . 
            . . . . . f 5 4 5 f . . . . . . 
            . . . . . . f 5 f . . . . . . . 
            . . . . . . . f . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . f 5 4 5 5 5 5 5 f . . . . 
            . . . . f 5 5 4 5 5 f . . . . . 
            . . . . . f 5 5 5 f . . . . . . 
            . . . . . . f f f . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . f 5 5 4 4 4 5 5 f . . . . 
            . . f 5 5 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . f 5 4 5 5 5 5 5 5 5 f . . . 
            . . . f 5 5 4 4 5 5 5 f . . . . 
            . . . . f 5 5 5 5 5 f . . . . . 
            . . . . . f f f f f . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `,img`
            . . . . . . . . . . . . . . . . 
            . . . . f f f f f f f . . . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . f 5 5 4 4 4 4 4 5 5 f . . . 
            . f 5 5 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . f 5 4 5 5 5 5 5 5 5 5 5 f . . 
            . . f 5 5 4 4 4 5 5 5 5 f . . . 
            . . . f 5 5 5 5 5 5 5 f . . . . 
            . . . . f f f f f f f . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `],
        100,
        true
        )
        tiles.placeOnTile(coin, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
})
let coin: Sprite = null
let Santa: Sprite = null
let currentLevel = 0
scene.setBackgroundColor(15)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .....................................................................................1..........................................................................
    .....................................................................................1.....................................................................1....
    ..............................................1.................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ......................................................................................................................................1.........................
    ................................................................................................................................................................
    ....................................................................................................1...........................................................
    .................1..............................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ....................................................................................1...........................................................................
    ........................................1...................................................1..................................................1......1.........
    ............................................................1................................................1..................................................
    ..............................................................................................................1.................................................
    ................................................................1..............................................1................................................
    ................................1.............................................................................11................................................
    ....................................................................1.................1.........................................................................
    ................................................................................................................................................................
    ..................................................1.............................................................................................................
    ................................................................................................................................................................
    ...................................................................................................1............................................................
    .............................................1..................................................................................................................
    ................1...............................................................................................................................................
    ........................................................................1.....................................................1......................1..........
    ................................................................................................................................................................
    ..........................................................................................1....................................................1................
    .............................................................................1..................................................................................
    ......................1.........................................................................................................................................
    ................................................................................................................................................................
    .........................................1.......1.............................................................................1................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..........11....................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................11................................................1...............................................
    .............................................................1..................................................................................................
    .................................1..............................................................................................................................
    ................................................................................................................................................................
    ....................1............................................................................................1..............................................
    ........................................1.......................................................................................................................
    ............................1..........1..................................................................................................1.......1.............
    ......................................1.......................1.................1..................................................1............................
    ................................................................................1....................1..........................................................
    ........1.......................................................................1................................................1..............................
    .................................................................................1......1......................................1................................
    ....................................................1............................1...........................................11.................................
    .................................................................................1...........................................1....................1.............
    .................................................................................1..........................................1...................................
    .....................1.....................................................................................................1....................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .....................................1..........................................................................................................................
    ..............................................................................................1.................................................................
    ..........1.....................................................................................................................................................
    ................................................................................................................................................................
    ......................................1..................................................................................1...............1...................1..
    ......................................................1..........1..............................................................................................
    ..................1.............................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ........................................................................................................................1.......................................
    ...................................................................................1.......................................................1....................
    ...............................................1.............................1..............................................................1...................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ......................................................................................................1.............1...........................................
    .............1........1.........................................................................................................................................
    ..........................................................................................................................1............................1........
    ...............................1.............................................................................................1.........................1........
    ...............................1..........1.............................................................................................................1.......
    ................................1...............................................................................................................................
    ...............................................................................1................................................................................
    ................................................................................1.........1.....................................................................
    .................................................................................................1...............................................1..............
    .................................................................................................1..............................1...............................
    ....................................................................................1.............1.............................................................
    ...................................................................................................1............................................................
    .....................................................1..........................................................................................................
    ............................................................................................................1............1......................................
    ...........1....................................................................................................................................................
    ............1..........................................................................................................................1........................
    ................................................................................................................................................................
    .................1...........................................................................................................1..................................
    .....................................11.......................1.................................................................................................
    ........................................................................................1.......................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    .............................................................................................................................1..................................
    .................................................1..............................................................................................................
    .............................................................................11...............................................1.................................
    ...........................................................................11...................................................................................
    ................................................................................................................................................................
    .....................................................................................................................................................1..........
    ............................................................................................................................................1...................
    .....................................................................................1......................................................1...................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ..............................................................................................................1.................................................
    ..............................1.................................................................................................................................
    ..........1..................................................................................................................1..................1...............
    ................................................................................................................................................................
    ..........................................................................................................................................................1.....
    .............................................................1..................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
currentLevel = 0
startLvel()
game.onUpdate(function () {
    Santa.setImage(img`
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ..............................
        ...........fffff..............
        .........ff22222f.............
        .......ff22222222f............
        ......f112f2222222f...........
        ......f11f222222222f..........
        .......ff22111111112f.........
        .......f211111111111f.........
        ......f11111ffffff11f.........
        ......f1111fddddddff...aa.aa..
        ......f11ffddfdddfdf...aa3aa..
        ......fff1ddddd2dddf...3aaa3..
        .......f111d111111df...aaaaa..
        .....ffff1111111111ffffa333a..
        ....f77f2ff1111111f2221a333a..
        ...f77f2222f11111f22221eef....
        ..f777f22222fffff222221eef....
        ..f777f222f22222222fffffff....
        ..f777f222f22222222f..........
        ..f777f222ffff55ffff..........
        ..f777f222ffff55ffff..........
        ..f777f111ff2222222f..........
        ...f77feeeef2222222f..........
        ....fffeeef22222222f..........
        ......ffffffffffffff..........
        ........f222222222f...........
        ........f22222f222f...........
        ........f11111f111f...........
        ........feeeeefeeeef..........
        ........ffffffffffff..........
        `)
    if (Santa.vy < 0) {
        Santa.setImage(img`
            ..............................
            ..............................
            ..............................
            ..............................
            ..............................
            ..........fffff...............
            ........ff22222f..............
            ......ff22222222f.............
            .....f112f2222222f............
            .....f11f222222222f...........
            ......ff22111111112f..........
            .....f11111ffffff11f..........
            .....f1111fddddddff...........
            .....f11ffddfdddfdf...........
            .....fff1ddddd2dddf...........
            ......f111d111111df...........
            ..ffffff1111111111f...........
            .ff77f2222f11111f22...........
            ff777f22222fffff222...........
            f7777f222f22222222f...........
            f7777f222f22222222f...........
            f7777f222ffff55ffff...........
            77777f222ffff55ffff...........
            77777feeeef2222222f...........
            77777feeef22222222f...........
            77777ffffffffffffff...........
            7777ffff222222222f............
            fffff..f22222f222f............
            .....fff22222f222f............
            .....feee2222f222f............
            .....ffff222ff222f............
            ........f222ef222f............
            .........fff.efff.............
            ..............................
            ..............................
            `)
    } else {
        Santa.setImage(img`
            ..............................
            ..............................
            ..............................
            ..............................
            ..............................
            ..............................
            ...........fffff..............
            .........ff22222f.............
            .......ff22222222f............
            ......f112f2222222f...........
            ......f11f222222222f..........
            .......ff22111111112f.........
            .......f211111111111f.........
            ......f11111ffffff11f.........
            ......f1111fddddddff...aa.aa..
            ......f11ffddfdddfdf...aa3aa..
            ......fff1ddddd2dddf...3aaa3..
            .......f111d111111df...aaaaa..
            .....ffff1111111111ffffa333a..
            ....f77f2ff1111111f2221a333a..
            ...f77f2222f11111f22221eef....
            ..f777f22222fffff222221eef....
            ..f777f222f22222222fffffff....
            ..f777f222f22222222f..........
            ..f777f222ffff55ffff..........
            ..f777f222ffff55ffff..........
            ..f777f111ff2222222f..........
            ...f77feeeef2222222f..........
            ....fffeeef22222222f..........
            ......ffffffffffffff..........
            ........f222222222f...........
            ........f22222f222f...........
            ........f11111f111f...........
            ........feeeeefeeeef..........
            ........ffffffffffff..........
            `)
    }
    if (Santa.vx < 0) {
        Santa.image.flipX()
    }
})
